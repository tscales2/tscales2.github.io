<!doctype html>
<html lang="en">

<head>
   <meta charset=utf-8>
   <title>What to Read?</title>
   <link rel=stylesheet href=https://cdn.jsdelivr.net/npm/dna.js@1.7/dist/dna.css>
   <link rel="stylesheet" href="bootstrap-grid.css" type="text/css" />
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link
      href="https://fonts.googleapis.com/css2?family=Dosis:wght@200;300;400;500;600;700;800&family=Patrick+Hand&display=swap"
      rel="stylesheet">
   <link rel=stylesheet href="bookFinder.css">

</head>

<body>

   <main class="container">
      <div class="row">
         <div class="col">
            <h1>What to Read?</h1>
            <label>
               Search Author Name or Title :
               <input data-smart-update=findBooksWithGoogle placeholder="Author Name" autofocus>
            </label>
         </div>
         <div class="col">
            <div class="books">
               <div id=book class=dna-template>
                  <a href=" ~~volumeInfo.infoLink~~"> <img src=~~volumeInfo.imageLinks.thumbnail~~
                        alt="cover of the book"></a>
                  <div>
                     <div class="row">
                        <div class="col">
                           <h1>~~volumeInfo.title~~</h1>

                        </div>
                        <div class="col">
                           <h2>~~volumeInfo.subtitle~~</h2>
                        </div>
                        
                        <div class="col">
                          
                           <h4>~~volumeInfo.publisher~~</h4>


                        </div>
                        <div class="col">
                           <h4><b>Date Published: </b> <i>~~volumeInfo.publishedDate~~</i></h4>
                        </div>
                        <div class="col">

                           <h4> <b>Page Count: </b>
                              <i>~~volumeInfo.pageCount~~</i>
                           </h4>
                        </div>
                        <div class="col">
                           <h3>~~volumeInfo.authors[]~~</h3>
                        </div>
                     </div>




                     <b>~~saleInfo.retailPrice.amount~~</b>
                     <i>~~saleInfo.retailPrice.currencyCode~~</i>

                  </div>
               </div>
            </div>
         </div>
      </div>




   </main>
   <script>
      const findBooksWithGoogle = (elem) => {
         const terms = elem.val();
         const url = "https://www.googleapis.com/books/v1/volumes";
         const handleResults = (data) =>
            dna.clone("book", data.items, { empty: true, fade: true });
         fetchJson.get(url, { q: terms }).then(handleResults);
         console.log(terms); //verify user input
      };
      /* const findBooksWithGoogleAuthors = (elem) => {
         const terms = elem.val();
         const url = "https://www.googleapis.com/books/v1/volumes";
         const handleResults = (data) => dna.clone("book",data.items.authors,{ empty: true, fade: true });
         fetchJson.get(url, { q: terms }).then(handleResults);
         console.log(terms); //verify user input )
      } */
   </script>
   <script src="bookFinderApp/bookFinder.js"></script>
   <script src=https://cdn.jsdelivr.net/npm/jquery@3.5/dist/jquery.min.js></script>
   <script src=https://cdn.jsdelivr.net/npm/dna.js@1.7/dist/dna.min.js></script>
   <script src=https://cdn.jsdelivr.net/npm/fetch-json@2.4/dist/fetch-json.min.js></script>
</body>

</html>